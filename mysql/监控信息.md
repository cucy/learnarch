
# 数据库 索引 数据 大小
```SQL
select table_schema,
sum(data_length+index_length)/1024/1024 as total_mb,
sum(data_length)/1024/1024 as data_mb,
sum(index_length)/1024/1024 as index_mb,
count(*) as tables
from information_schema.tables
group by table_schema
order by 2 desc;
```

# 数据库元数据信息

```sql
 select table_name,engine,row_format, table_rows, avg_row_length, (data_length+index_length)/1024/1024 as total_mb, (data_length)/1024/1024 as data_mb, (index_length)/1024/1024 as index_mb from information_schema.tables where table_schema= DATABASE() order by 6 desc;
```

# 显示索引信息

```SQL
mysql> select table_schema,engine,table_collation, count(*) as tables from information_schema.tables where table_schema=DATABASE() group by table_schema,engine,table_collation;
+--------------+--------+-------------------+--------+
| table_schema | engine | table_collation   | tables |
+--------------+--------+-------------------+--------+
| mysql        | CSV    | utf8_general_ci   |      2 |
| mysql        | InnoDB | latin1_swedish_ci |      1 |
| mysql        | InnoDB | utf8_bin          |      2 |
| mysql        | InnoDB | utf8_general_ci   |      5 |
| mysql        | MyISAM | utf8_bin          |      8 |
| mysql        | MyISAM | utf8_general_ci   |     14 |
+--------------+--------+-------------------+--------+
```

```
select table_schema,table_name,column_name,data_type from information_schema.columns where table_schema= DATABASE() and ( data_type LIKE '%TEXT' OR data_type like '%BLOB');
```
